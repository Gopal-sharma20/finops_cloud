"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/efficiency/route";
exports.ids = ["app/api/efficiency/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fefficiency%2Froute&page=%2Fapi%2Fefficiency%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fefficiency%2Froute.ts&appDir=%2Froot%2Fgit%2Ffinops_cloud%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fgit%2Ffinops_cloud&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fefficiency%2Froute&page=%2Fapi%2Fefficiency%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fefficiency%2Froute.ts&appDir=%2Froot%2Fgit%2Ffinops_cloud%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fgit%2Ffinops_cloud&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _root_git_finops_cloud_app_api_efficiency_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/efficiency/route.ts */ \"(rsc)/./app/api/efficiency/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/efficiency/route\",\n        pathname: \"/api/efficiency\",\n        filename: \"route\",\n        bundlePath: \"app/api/efficiency/route\"\n    },\n    resolvedPagePath: \"/root/git/finops_cloud/app/api/efficiency/route.ts\",\n    nextConfigOutput,\n    userland: _root_git_finops_cloud_app_api_efficiency_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/efficiency/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZlZmZpY2llbmN5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZlZmZpY2llbmN5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZWZmaWNpZW5jeSUyRnJvdXRlLnRzJmFwcERpcj0lMkZyb290JTJGZ2l0JTJGZmlub3BzX2Nsb3VkJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZyb290JTJGZ2l0JTJGZmlub3BzX2Nsb3VkJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG91ZG9wdGltYS1maW5vcHMvP2I3ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL3Jvb3QvZ2l0L2Zpbm9wc19jbG91ZC9hcHAvYXBpL2VmZmljaWVuY3kvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VmZmljaWVuY3kvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9lZmZpY2llbmN5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9lZmZpY2llbmN5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL3Jvb3QvZ2l0L2Zpbm9wc19jbG91ZC9hcHAvYXBpL2VmZmljaWVuY3kvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZWZmaWNpZW5jeS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fefficiency%2Froute&page=%2Fapi%2Fefficiency%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fefficiency%2Froute.ts&appDir=%2Froot%2Fgit%2Ffinops_cloud%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fgit%2Ffinops_cloud&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/efficiency/route.ts":
/*!*************************************!*\
  !*** ./app/api/efficiency/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n// app/api/efficiency/route.ts\n\nconst AZURE_REST_URL = process.env.AZURE_MCP_SERVER_URL || \"http://localhost:8000\";\nconst AWS_REST_URL = process.env.MCP_SERVER_URL || \"http://localhost:3001\";\nconst GCP_REST_URL = process.env.GCP_MCP_SERVER_URL || \"http://localhost:3002\";\nasync function callAPI(url, endpoint, args) {\n    const res = await fetch(`${url}${endpoint}`, {\n        method: \"POST\",\n        headers: {\n            \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(args)\n    });\n    if (!res.ok) {\n        throw new Error(`API call failed: ${res.status}`);\n    }\n    return res.json();\n}\n/**\n * GET /api/efficiency\n * Calculates resource efficiency metrics across all cloud providers\n */ async function GET(request) {\n    try {\n        const metrics = {\n            overallScore: 0,\n            resourceUtilization: 0,\n            wasteRatio: 0,\n            costPerResource: 0,\n            totalResources: 0,\n            unusedResources: 0,\n            breakdown: {\n                aws: {\n                    score: 0,\n                    unusedInstances: 0,\n                    totalInstances: 0,\n                    unusedVolumes: 0,\n                    totalVolumes: 0\n                },\n                azure: {\n                    score: 0,\n                    unusedVMs: 0,\n                    totalVMs: 0,\n                    unusedDisks: 0,\n                    totalDisks: 0\n                },\n                gcp: {\n                    score: 0,\n                    terminatedInstances: 0,\n                    totalInstances: 0,\n                    unattachedDisks: 0,\n                    totalDisks: 0\n                }\n            }\n        };\n        // Fetch AWS audit data\n        try {\n            const awsAudit = await callAPI(AWS_REST_URL, \"/api/audit\", {\n                all_profiles: true\n            });\n            if (awsAudit?.audit_results) {\n                Object.values(awsAudit.audit_results).forEach((result)=>{\n                    if (result.instances) {\n                        metrics.breakdown.aws.totalInstances += result.instances.length;\n                        const stopped = result.instances.filter((i)=>i.State?.Name === \"stopped\").length;\n                        metrics.breakdown.aws.unusedInstances += stopped;\n                    }\n                    if (result.unattached_volumes) {\n                        metrics.breakdown.aws.totalVolumes += result.unattached_volumes.length;\n                        metrics.breakdown.aws.unusedVolumes += result.unattached_volumes.length;\n                    }\n                });\n                // Calculate AWS efficiency score\n                const awsTotal = metrics.breakdown.aws.totalInstances + metrics.breakdown.aws.totalVolumes;\n                const awsUnused = metrics.breakdown.aws.unusedInstances + metrics.breakdown.aws.unusedVolumes;\n                metrics.breakdown.aws.score = awsTotal > 0 ? Math.round((awsTotal - awsUnused) / awsTotal * 100) : 100;\n            }\n        } catch (err) {\n            console.error(\"AWS audit fetch failed:\", err);\n            metrics.breakdown.aws.score = 0;\n        }\n        // Fetch Azure audit data\n        try {\n            const azureAudit = await callAPI(AZURE_REST_URL, \"/api/audit\", {\n                all_profiles: true\n            });\n            if (azureAudit?.audit_results) {\n                Object.values(azureAudit.audit_results).forEach((result)=>{\n                    if (result.vms) {\n                        metrics.breakdown.azure.totalVMs += result.vms.length;\n                        const deallocated = result.vms.filter((vm)=>vm.powerState === \"VM deallocated\").length;\n                        metrics.breakdown.azure.unusedVMs += deallocated;\n                    }\n                    if (result.unattached_disks) {\n                        metrics.breakdown.azure.totalDisks += result.unattached_disks.length;\n                        metrics.breakdown.azure.unusedDisks += result.unattached_disks.length;\n                    }\n                });\n                // Calculate Azure efficiency score\n                const azureTotal = metrics.breakdown.azure.totalVMs + metrics.breakdown.azure.totalDisks;\n                const azureUnused = metrics.breakdown.azure.unusedVMs + metrics.breakdown.azure.unusedDisks;\n                metrics.breakdown.azure.score = azureTotal > 0 ? Math.round((azureTotal - azureUnused) / azureTotal * 100) : 100;\n            }\n        } catch (err) {\n            console.error(\"Azure audit fetch failed:\", err);\n            metrics.breakdown.azure.score = 0;\n        }\n        // Fetch GCP audit data\n        try {\n            const gcpAudit = await callAPI(GCP_REST_URL, \"/api/audit\", {\n                projectId: process.env.GCP_PROJECT_ID\n            });\n            if (gcpAudit?.success && gcpAudit?.data) {\n                // Parse instances\n                const instancesData = gcpAudit.data.instances?.content?.[0]?.text;\n                if (instancesData) {\n                    try {\n                        const instances = JSON.parse(instancesData);\n                        if (Array.isArray(instances)) {\n                            metrics.breakdown.gcp.totalInstances = instances.length;\n                            metrics.breakdown.gcp.terminatedInstances = instances.filter((i)=>i.status !== \"RUNNING\").length;\n                        }\n                    } catch (parseErr) {\n                        console.error(\"Failed to parse GCP instances:\", parseErr);\n                    }\n                }\n                // Parse disks\n                const disksData = gcpAudit.data.disks?.content?.[0]?.text;\n                if (disksData) {\n                    try {\n                        const disks = JSON.parse(disksData);\n                        if (Array.isArray(disks)) {\n                            metrics.breakdown.gcp.totalDisks = disks.length;\n                            metrics.breakdown.gcp.unattachedDisks = disks.filter((d)=>!d.users || d.users.length === 0).length;\n                        }\n                    } catch (parseErr) {\n                        console.error(\"Failed to parse GCP disks:\", parseErr);\n                    }\n                }\n                // Calculate GCP efficiency score\n                const gcpTotal = metrics.breakdown.gcp.totalInstances + metrics.breakdown.gcp.totalDisks;\n                const gcpUnused = metrics.breakdown.gcp.terminatedInstances + metrics.breakdown.gcp.unattachedDisks;\n                metrics.breakdown.gcp.score = gcpTotal > 0 ? Math.round((gcpTotal - gcpUnused) / gcpTotal * 100) : 100;\n            }\n        } catch (err) {\n            console.error(\"GCP audit fetch failed:\", err);\n            metrics.breakdown.gcp.score = 0;\n        }\n        // Calculate overall metrics\n        metrics.totalResources = metrics.breakdown.aws.totalInstances + metrics.breakdown.aws.totalVolumes + metrics.breakdown.azure.totalVMs + metrics.breakdown.azure.totalDisks + metrics.breakdown.gcp.totalInstances + metrics.breakdown.gcp.totalDisks;\n        metrics.unusedResources = metrics.breakdown.aws.unusedInstances + metrics.breakdown.aws.unusedVolumes + metrics.breakdown.azure.unusedVMs + metrics.breakdown.azure.unusedDisks + metrics.breakdown.gcp.terminatedInstances + metrics.breakdown.gcp.unattachedDisks;\n        metrics.resourceUtilization = metrics.totalResources > 0 ? Math.round((metrics.totalResources - metrics.unusedResources) / metrics.totalResources * 100) : 100;\n        metrics.wasteRatio = metrics.totalResources > 0 ? Math.round(metrics.unusedResources / metrics.totalResources * 100) : 0;\n        // Calculate overall efficiency score (weighted average)\n        const scores = [\n            metrics.breakdown.aws.score,\n            metrics.breakdown.azure.score,\n            metrics.breakdown.gcp.score\n        ].filter((s)=>s > 0);\n        metrics.overallScore = scores.length > 0 ? Math.round(scores.reduce((sum, s)=>sum + s, 0) / scores.length) : 0;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            metrics\n        });\n    } catch (error) {\n        console.error(\"Error calculating efficiency metrics:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to calculate efficiency metrics\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsQ0FBQ3VDLElBQU1BLElBQUk7UUFFcEJ2RSxRQUFRQyxZQUFZLEdBQ2xCcUUsT0FBT3hDLE1BQU0sR0FBRyxJQUNaUyxLQUFLQyxLQUFLLENBQUM4QixPQUFPRSxNQUFNLENBQUMsQ0FBQ0MsS0FBS0YsSUFBTUUsTUFBTUYsR0FBRyxLQUFLRCxPQUFPeEMsTUFBTSxJQUNoRTtRQUVOLE9BQU94RCxrRkFBWUEsQ0FBQ3VCLElBQUksQ0FBQztZQUN2QjBELFNBQVM7WUFDVHZEO1FBQ0Y7SUFDRixFQUFFLE9BQU8yQyxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyx5Q0FBeUNBO1FBQ3ZELE9BQU9yRSxrRkFBWUEsQ0FBQ3VCLElBQUksQ0FDdEI7WUFDRTBELFNBQVM7WUFDVFosT0FBTztZQUNQK0IsU0FBUy9CLGlCQUFpQmhELFFBQVFnRCxNQUFNK0IsT0FBTyxHQUFHO1FBQ3BELEdBQ0E7WUFBRTlFLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xvdWRvcHRpbWEtZmlub3BzLy4vYXBwL2FwaS9lZmZpY2llbmN5L3JvdXRlLnRzPzQ1ZjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2FwaS9lZmZpY2llbmN5L3JvdXRlLnRzXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbmNvbnN0IEFaVVJFX1JFU1RfVVJMID0gcHJvY2Vzcy5lbnYuQVpVUkVfTUNQX1NFUlZFUl9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjgwMDBcIjtcbmNvbnN0IEFXU19SRVNUX1VSTCA9IHByb2Nlc3MuZW52Lk1DUF9TRVJWRVJfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDozMDAxXCI7XG5jb25zdCBHQ1BfUkVTVF9VUkwgPSBwcm9jZXNzLmVudi5HQ1BfTUNQX1NFUlZFUl9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDJcIjtcblxuYXN5bmMgZnVuY3Rpb24gY2FsbEFQSSh1cmw6IHN0cmluZywgZW5kcG9pbnQ6IHN0cmluZywgYXJnczogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHt1cmx9JHtlbmRwb2ludH1gLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYXJncyksXG4gIH0pO1xuXG4gIGlmICghcmVzLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgY2FsbCBmYWlsZWQ6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIHJldHVybiByZXMuanNvbigpO1xufVxuXG5pbnRlcmZhY2UgRWZmaWNpZW5jeU1ldHJpY3Mge1xuICBvdmVyYWxsU2NvcmU6IG51bWJlcjsgLy8gMC0xMDBcbiAgcmVzb3VyY2VVdGlsaXphdGlvbjogbnVtYmVyOyAvLyAwLTEwMFxuICB3YXN0ZVJhdGlvOiBudW1iZXI7IC8vIDAtMTAwXG4gIGNvc3RQZXJSZXNvdXJjZTogbnVtYmVyO1xuICB0b3RhbFJlc291cmNlczogbnVtYmVyO1xuICB1bnVzZWRSZXNvdXJjZXM6IG51bWJlcjtcbiAgYnJlYWtkb3duOiB7XG4gICAgYXdzOiB7XG4gICAgICBzY29yZTogbnVtYmVyO1xuICAgICAgdW51c2VkSW5zdGFuY2VzOiBudW1iZXI7XG4gICAgICB0b3RhbEluc3RhbmNlczogbnVtYmVyO1xuICAgICAgdW51c2VkVm9sdW1lczogbnVtYmVyO1xuICAgICAgdG90YWxWb2x1bWVzOiBudW1iZXI7XG4gICAgfTtcbiAgICBhenVyZToge1xuICAgICAgc2NvcmU6IG51bWJlcjtcbiAgICAgIHVudXNlZFZNczogbnVtYmVyO1xuICAgICAgdG90YWxWTXM6IG51bWJlcjtcbiAgICAgIHVudXNlZERpc2tzOiBudW1iZXI7XG4gICAgICB0b3RhbERpc2tzOiBudW1iZXI7XG4gICAgfTtcbiAgICBnY3A6IHtcbiAgICAgIHNjb3JlOiBudW1iZXI7XG4gICAgICB0ZXJtaW5hdGVkSW5zdGFuY2VzOiBudW1iZXI7XG4gICAgICB0b3RhbEluc3RhbmNlczogbnVtYmVyO1xuICAgICAgdW5hdHRhY2hlZERpc2tzOiBudW1iZXI7XG4gICAgICB0b3RhbERpc2tzOiBudW1iZXI7XG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHRVQgL2FwaS9lZmZpY2llbmN5XG4gKiBDYWxjdWxhdGVzIHJlc291cmNlIGVmZmljaWVuY3kgbWV0cmljcyBhY3Jvc3MgYWxsIGNsb3VkIHByb3ZpZGVyc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgbWV0cmljczogRWZmaWNpZW5jeU1ldHJpY3MgPSB7XG4gICAgICBvdmVyYWxsU2NvcmU6IDAsXG4gICAgICByZXNvdXJjZVV0aWxpemF0aW9uOiAwLFxuICAgICAgd2FzdGVSYXRpbzogMCxcbiAgICAgIGNvc3RQZXJSZXNvdXJjZTogMCxcbiAgICAgIHRvdGFsUmVzb3VyY2VzOiAwLFxuICAgICAgdW51c2VkUmVzb3VyY2VzOiAwLFxuICAgICAgYnJlYWtkb3duOiB7XG4gICAgICAgIGF3czogeyBzY29yZTogMCwgdW51c2VkSW5zdGFuY2VzOiAwLCB0b3RhbEluc3RhbmNlczogMCwgdW51c2VkVm9sdW1lczogMCwgdG90YWxWb2x1bWVzOiAwIH0sXG4gICAgICAgIGF6dXJlOiB7IHNjb3JlOiAwLCB1bnVzZWRWTXM6IDAsIHRvdGFsVk1zOiAwLCB1bnVzZWREaXNrczogMCwgdG90YWxEaXNrczogMCB9LFxuICAgICAgICBnY3A6IHsgc2NvcmU6IDAsIHRlcm1pbmF0ZWRJbnN0YW5jZXM6IDAsIHRvdGFsSW5zdGFuY2VzOiAwLCB1bmF0dGFjaGVkRGlza3M6IDAsIHRvdGFsRGlza3M6IDAgfSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIEZldGNoIEFXUyBhdWRpdCBkYXRhXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGF3c0F1ZGl0ID0gYXdhaXQgY2FsbEFQSShBV1NfUkVTVF9VUkwsIFwiL2FwaS9hdWRpdFwiLCB7XG4gICAgICAgIGFsbF9wcm9maWxlczogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYXdzQXVkaXQ/LmF1ZGl0X3Jlc3VsdHMpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhhd3NBdWRpdC5hdWRpdF9yZXN1bHRzKS5mb3JFYWNoKChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQuaW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBtZXRyaWNzLmJyZWFrZG93bi5hd3MudG90YWxJbnN0YW5jZXMgKz0gcmVzdWx0Lmluc3RhbmNlcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBzdG9wcGVkID0gcmVzdWx0Lmluc3RhbmNlcy5maWx0ZXIoXG4gICAgICAgICAgICAgIChpOiBhbnkpID0+IGkuU3RhdGU/Lk5hbWUgPT09IFwic3RvcHBlZFwiXG4gICAgICAgICAgICApLmxlbmd0aDtcbiAgICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF3cy51bnVzZWRJbnN0YW5jZXMgKz0gc3RvcHBlZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC51bmF0dGFjaGVkX3ZvbHVtZXMpIHtcbiAgICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF3cy50b3RhbFZvbHVtZXMgKz0gcmVzdWx0LnVuYXR0YWNoZWRfdm9sdW1lcy5sZW5ndGg7XG4gICAgICAgICAgICBtZXRyaWNzLmJyZWFrZG93bi5hd3MudW51c2VkVm9sdW1lcyArPSByZXN1bHQudW5hdHRhY2hlZF92b2x1bWVzLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBBV1MgZWZmaWNpZW5jeSBzY29yZVxuICAgICAgICBjb25zdCBhd3NUb3RhbCA9XG4gICAgICAgICAgbWV0cmljcy5icmVha2Rvd24uYXdzLnRvdGFsSW5zdGFuY2VzICsgbWV0cmljcy5icmVha2Rvd24uYXdzLnRvdGFsVm9sdW1lcztcbiAgICAgICAgY29uc3QgYXdzVW51c2VkID1cbiAgICAgICAgICBtZXRyaWNzLmJyZWFrZG93bi5hd3MudW51c2VkSW5zdGFuY2VzICsgbWV0cmljcy5icmVha2Rvd24uYXdzLnVudXNlZFZvbHVtZXM7XG4gICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF3cy5zY29yZSA9XG4gICAgICAgICAgYXdzVG90YWwgPiAwID8gTWF0aC5yb3VuZCgoKGF3c1RvdGFsIC0gYXdzVW51c2VkKSAvIGF3c1RvdGFsKSAqIDEwMCkgOiAxMDA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQVdTIGF1ZGl0IGZldGNoIGZhaWxlZDpcIiwgZXJyKTtcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF3cy5zY29yZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggQXp1cmUgYXVkaXQgZGF0YVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhenVyZUF1ZGl0ID0gYXdhaXQgY2FsbEFQSShBWlVSRV9SRVNUX1VSTCwgXCIvYXBpL2F1ZGl0XCIsIHtcbiAgICAgICAgYWxsX3Byb2ZpbGVzOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhenVyZUF1ZGl0Py5hdWRpdF9yZXN1bHRzKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoYXp1cmVBdWRpdC5hdWRpdF9yZXN1bHRzKS5mb3JFYWNoKChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQudm1zKSB7XG4gICAgICAgICAgICBtZXRyaWNzLmJyZWFrZG93bi5henVyZS50b3RhbFZNcyArPSByZXN1bHQudm1zLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGRlYWxsb2NhdGVkID0gcmVzdWx0LnZtcy5maWx0ZXIoXG4gICAgICAgICAgICAgICh2bTogYW55KSA9PiB2bS5wb3dlclN0YXRlID09PSBcIlZNIGRlYWxsb2NhdGVkXCJcbiAgICAgICAgICAgICkubGVuZ3RoO1xuICAgICAgICAgICAgbWV0cmljcy5icmVha2Rvd24uYXp1cmUudW51c2VkVk1zICs9IGRlYWxsb2NhdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LnVuYXR0YWNoZWRfZGlza3MpIHtcbiAgICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF6dXJlLnRvdGFsRGlza3MgKz0gcmVzdWx0LnVuYXR0YWNoZWRfZGlza3MubGVuZ3RoO1xuICAgICAgICAgICAgbWV0cmljcy5icmVha2Rvd24uYXp1cmUudW51c2VkRGlza3MgKz0gcmVzdWx0LnVuYXR0YWNoZWRfZGlza3MubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIEF6dXJlIGVmZmljaWVuY3kgc2NvcmVcbiAgICAgICAgY29uc3QgYXp1cmVUb3RhbCA9XG4gICAgICAgICAgbWV0cmljcy5icmVha2Rvd24uYXp1cmUudG90YWxWTXMgKyBtZXRyaWNzLmJyZWFrZG93bi5henVyZS50b3RhbERpc2tzO1xuICAgICAgICBjb25zdCBhenVyZVVudXNlZCA9XG4gICAgICAgICAgbWV0cmljcy5icmVha2Rvd24uYXp1cmUudW51c2VkVk1zICsgbWV0cmljcy5icmVha2Rvd24uYXp1cmUudW51c2VkRGlza3M7XG4gICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF6dXJlLnNjb3JlID1cbiAgICAgICAgICBhenVyZVRvdGFsID4gMCA/IE1hdGgucm91bmQoKChhenVyZVRvdGFsIC0gYXp1cmVVbnVzZWQpIC8gYXp1cmVUb3RhbCkgKiAxMDApIDogMTAwO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkF6dXJlIGF1ZGl0IGZldGNoIGZhaWxlZDpcIiwgZXJyKTtcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF6dXJlLnNjb3JlID0gMDtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBHQ1AgYXVkaXQgZGF0YVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBnY3BBdWRpdCA9IGF3YWl0IGNhbGxBUEkoR0NQX1JFU1RfVVJMLCBcIi9hcGkvYXVkaXRcIiwge1xuICAgICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkdDUF9QUk9KRUNUX0lELFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChnY3BBdWRpdD8uc3VjY2VzcyAmJiBnY3BBdWRpdD8uZGF0YSkge1xuICAgICAgICAvLyBQYXJzZSBpbnN0YW5jZXNcbiAgICAgICAgY29uc3QgaW5zdGFuY2VzRGF0YSA9IGdjcEF1ZGl0LmRhdGEuaW5zdGFuY2VzPy5jb250ZW50Py5bMF0/LnRleHQ7XG4gICAgICAgIGlmIChpbnN0YW5jZXNEYXRhKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlcyA9IEpTT04ucGFyc2UoaW5zdGFuY2VzRGF0YSk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnN0YW5jZXMpKSB7XG4gICAgICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50b3RhbEluc3RhbmNlcyA9IGluc3RhbmNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50ZXJtaW5hdGVkSW5zdGFuY2VzID0gaW5zdGFuY2VzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAoaTogYW55KSA9PiBpLnN0YXR1cyAhPT0gXCJSVU5OSU5HXCJcbiAgICAgICAgICAgICAgKS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgR0NQIGluc3RhbmNlczpcIiwgcGFyc2VFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhcnNlIGRpc2tzXG4gICAgICAgIGNvbnN0IGRpc2tzRGF0YSA9IGdjcEF1ZGl0LmRhdGEuZGlza3M/LmNvbnRlbnQ/LlswXT8udGV4dDtcbiAgICAgICAgaWYgKGRpc2tzRGF0YSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkaXNrcyA9IEpTT04ucGFyc2UoZGlza3NEYXRhKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpc2tzKSkge1xuICAgICAgICAgICAgICBtZXRyaWNzLmJyZWFrZG93bi5nY3AudG90YWxEaXNrcyA9IGRpc2tzLmxlbmd0aDtcbiAgICAgICAgICAgICAgbWV0cmljcy5icmVha2Rvd24uZ2NwLnVuYXR0YWNoZWREaXNrcyA9IGRpc2tzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAoZDogYW55KSA9PiAhZC51c2VycyB8fCBkLnVzZXJzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICApLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBHQ1AgZGlza3M6XCIsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgR0NQIGVmZmljaWVuY3kgc2NvcmVcbiAgICAgICAgY29uc3QgZ2NwVG90YWwgPVxuICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50b3RhbEluc3RhbmNlcyArIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50b3RhbERpc2tzO1xuICAgICAgICBjb25zdCBnY3BVbnVzZWQgPVxuICAgICAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50ZXJtaW5hdGVkSW5zdGFuY2VzICsgbWV0cmljcy5icmVha2Rvd24uZ2NwLnVuYXR0YWNoZWREaXNrcztcbiAgICAgICAgbWV0cmljcy5icmVha2Rvd24uZ2NwLnNjb3JlID1cbiAgICAgICAgICBnY3BUb3RhbCA+IDAgPyBNYXRoLnJvdW5kKCgoZ2NwVG90YWwgLSBnY3BVbnVzZWQpIC8gZ2NwVG90YWwpICogMTAwKSA6IDEwMDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJHQ1AgYXVkaXQgZmV0Y2ggZmFpbGVkOlwiLCBlcnIpO1xuICAgICAgbWV0cmljcy5icmVha2Rvd24uZ2NwLnNjb3JlID0gMDtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBtZXRyaWNzXG4gICAgbWV0cmljcy50b3RhbFJlc291cmNlcyA9XG4gICAgICBtZXRyaWNzLmJyZWFrZG93bi5hd3MudG90YWxJbnN0YW5jZXMgK1xuICAgICAgbWV0cmljcy5icmVha2Rvd24uYXdzLnRvdGFsVm9sdW1lcyArXG4gICAgICBtZXRyaWNzLmJyZWFrZG93bi5henVyZS50b3RhbFZNcyArXG4gICAgICBtZXRyaWNzLmJyZWFrZG93bi5henVyZS50b3RhbERpc2tzICtcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50b3RhbEluc3RhbmNlcyArXG4gICAgICBtZXRyaWNzLmJyZWFrZG93bi5nY3AudG90YWxEaXNrcztcblxuICAgIG1ldHJpY3MudW51c2VkUmVzb3VyY2VzID1cbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF3cy51bnVzZWRJbnN0YW5jZXMgK1xuICAgICAgbWV0cmljcy5icmVha2Rvd24uYXdzLnVudXNlZFZvbHVtZXMgK1xuICAgICAgbWV0cmljcy5icmVha2Rvd24uYXp1cmUudW51c2VkVk1zICtcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmF6dXJlLnVudXNlZERpc2tzICtcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC50ZXJtaW5hdGVkSW5zdGFuY2VzICtcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC51bmF0dGFjaGVkRGlza3M7XG5cbiAgICBtZXRyaWNzLnJlc291cmNlVXRpbGl6YXRpb24gPVxuICAgICAgbWV0cmljcy50b3RhbFJlc291cmNlcyA+IDBcbiAgICAgICAgPyBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgKChtZXRyaWNzLnRvdGFsUmVzb3VyY2VzIC0gbWV0cmljcy51bnVzZWRSZXNvdXJjZXMpIC8gbWV0cmljcy50b3RhbFJlc291cmNlcykgKiAxMDBcbiAgICAgICAgICApXG4gICAgICAgIDogMTAwO1xuXG4gICAgbWV0cmljcy53YXN0ZVJhdGlvID1cbiAgICAgIG1ldHJpY3MudG90YWxSZXNvdXJjZXMgPiAwXG4gICAgICAgID8gTWF0aC5yb3VuZCgobWV0cmljcy51bnVzZWRSZXNvdXJjZXMgLyBtZXRyaWNzLnRvdGFsUmVzb3VyY2VzKSAqIDEwMClcbiAgICAgICAgOiAwO1xuXG4gICAgLy8gQ2FsY3VsYXRlIG92ZXJhbGwgZWZmaWNpZW5jeSBzY29yZSAod2VpZ2h0ZWQgYXZlcmFnZSlcbiAgICBjb25zdCBzY29yZXMgPSBbXG4gICAgICBtZXRyaWNzLmJyZWFrZG93bi5hd3Muc2NvcmUsXG4gICAgICBtZXRyaWNzLmJyZWFrZG93bi5henVyZS5zY29yZSxcbiAgICAgIG1ldHJpY3MuYnJlYWtkb3duLmdjcC5zY29yZSxcbiAgICBdLmZpbHRlcigocykgPT4gcyA+IDApO1xuXG4gICAgbWV0cmljcy5vdmVyYWxsU2NvcmUgPVxuICAgICAgc2NvcmVzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBNYXRoLnJvdW5kKHNjb3Jlcy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcywgMCkgLyBzY29yZXMubGVuZ3RoKVxuICAgICAgICA6IDA7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1ldHJpY3MsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGN1bGF0aW5nIGVmZmljaWVuY3kgbWV0cmljczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byBjYWxjdWxhdGUgZWZmaWNpZW5jeSBtZXRyaWNzXCIsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkFaVVJFX1JFU1RfVVJMIiwicHJvY2VzcyIsImVudiIsIkFaVVJFX01DUF9TRVJWRVJfVVJMIiwiQVdTX1JFU1RfVVJMIiwiTUNQX1NFUlZFUl9VUkwiLCJHQ1BfUkVTVF9VUkwiLCJHQ1BfTUNQX1NFUlZFUl9VUkwiLCJjYWxsQVBJIiwidXJsIiwiZW5kcG9pbnQiLCJhcmdzIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsIkdFVCIsInJlcXVlc3QiLCJtZXRyaWNzIiwib3ZlcmFsbFNjb3JlIiwicmVzb3VyY2VVdGlsaXphdGlvbiIsIndhc3RlUmF0aW8iLCJjb3N0UGVyUmVzb3VyY2UiLCJ0b3RhbFJlc291cmNlcyIsInVudXNlZFJlc291cmNlcyIsImJyZWFrZG93biIsImF3cyIsInNjb3JlIiwidW51c2VkSW5zdGFuY2VzIiwidG90YWxJbnN0YW5jZXMiLCJ1bnVzZWRWb2x1bWVzIiwidG90YWxWb2x1bWVzIiwiYXp1cmUiLCJ1bnVzZWRWTXMiLCJ0b3RhbFZNcyIsInVudXNlZERpc2tzIiwidG90YWxEaXNrcyIsImdjcCIsInRlcm1pbmF0ZWRJbnN0YW5jZXMiLCJ1bmF0dGFjaGVkRGlza3MiLCJhd3NBdWRpdCIsImFsbF9wcm9maWxlcyIsImF1ZGl0X3Jlc3VsdHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicmVzdWx0IiwiaW5zdGFuY2VzIiwibGVuZ3RoIiwic3RvcHBlZCIsImZpbHRlciIsImkiLCJTdGF0ZSIsIk5hbWUiLCJ1bmF0dGFjaGVkX3ZvbHVtZXMiLCJhd3NUb3RhbCIsImF3c1VudXNlZCIsIk1hdGgiLCJyb3VuZCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImF6dXJlQXVkaXQiLCJ2bXMiLCJkZWFsbG9jYXRlZCIsInZtIiwicG93ZXJTdGF0ZSIsInVuYXR0YWNoZWRfZGlza3MiLCJhenVyZVRvdGFsIiwiYXp1cmVVbnVzZWQiLCJnY3BBdWRpdCIsInByb2plY3RJZCIsIkdDUF9QUk9KRUNUX0lEIiwic3VjY2VzcyIsImRhdGEiLCJpbnN0YW5jZXNEYXRhIiwiY29udGVudCIsInRleHQiLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsInBhcnNlRXJyIiwiZGlza3NEYXRhIiwiZGlza3MiLCJkIiwidXNlcnMiLCJnY3BUb3RhbCIsImdjcFVudXNlZCIsInNjb3JlcyIsInMiLCJyZWR1Y2UiLCJzdW0iLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/efficiency/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fefficiency%2Froute&page=%2Fapi%2Fefficiency%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fefficiency%2Froute.ts&appDir=%2Froot%2Fgit%2Ffinops_cloud%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fgit%2Ffinops_cloud&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();